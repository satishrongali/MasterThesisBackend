{"version":3,"sources":["taskFunctions.js"],"names":["require","config","mongoose","Task","connect","process","env","MONGO_URI","useNewUrlParser","useUnifiedTopology","exports","getTasksInList","req","res","find","_listId","params","listId","then","tasks","status","json","err","error","message","createTaskInList","newTask","title","body","save","task","updateTask","findOneAndUpdate","_id","taskId","$set","deleteTask","findOneAndRemove","result"],"mappings":"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","sourcesContent":["// taskFunctions.js\r\nrequire('dotenv').config();\r\n\r\n\r\nconst mongoose = require('./db/db');\r\nconst { Task } = require('./db/models/task.model');\r\n\r\n// Connect to MongoDB\r\nmongoose.connect(process.env.MONGO_URI, { useNewUrlParser: true, useUnifiedTopology: true });\r\n\r\nexports.getTasksInList = (req, res) => {\r\n    Task.find({ _listId: req.params.listId })\r\n        .then(tasks => res.status(200).json(tasks))\r\n        .catch(err => res.status(500).json({ error: err.message }));\r\n};\r\n\r\nexports.createTaskInList = (req, res) => {\r\n    let newTask = new Task({\r\n        title: req.body.title,\r\n        _listId: req.params.listId\r\n    });\r\n    newTask.save()\r\n        .then(task => res.status(201).json(task))\r\n        .catch(err => res.status(500).json({ error: err.message }));\r\n};\r\n\r\nexports.updateTask = (req, res) => {\r\n    Task.findOneAndUpdate({ _id: req.params.taskId, _listId: req.params.listId }, { $set: req.body }, { new: true })\r\n        .then(task => res.status(200).json(task))\r\n        .catch(err => res.status(500).json({ error: err.message }));\r\n};\r\n\r\nexports.deleteTask = (req, res) => {\r\n    Task.findOneAndRemove({ _id: req.params.taskId, _listId: req.params.listId })\r\n        .then(result => res.status(200).json({ message: 'Task deleted successfully' }))\r\n        .catch(err => res.status(500).json({ error: err.message }));\r\n};\r\n"],"file":"taskFunctions.dev.js"}