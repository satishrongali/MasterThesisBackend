"use strict";require("dotenv").config();var mongoose=require("./db/db"),_require=require("./db/models/task.model"),Task=_require.Task;mongoose.connect(process.env.MONGO_URI,{useNewUrlParser:!0,useUnifiedTopology:!0}),exports.getTasksInList=function(s,e){Task.find({_listId:s.params.listId}).then(function(s){return e.status(200).json(s)}).catch(function(s){return e.status(500).json({error:s.message})})},exports.createTaskInList=function(s,e){new Task({title:s.body.title,_listId:s.params.listId}).save().then(function(s){return e.status(201).json(s)}).catch(function(s){return e.status(500).json({error:s.message})})},exports.updateTask=function(s,e){Task.findOneAndUpdate({_id:s.params.taskId,_listId:s.params.listId},{$set:s.body},{new:!0}).then(function(s){return e.status(200).json(s)}).catch(function(s){return e.status(500).json({error:s.message})})},exports.deleteTask=function(s,e){Task.findOneAndRemove({_id:s.params.taskId,_listId:s.params.listId}).then(function(s){return e.status(200).json({message:"Task deleted successfully"})}).catch(function(s){return e.status(500).json({error:s.message})})};
//# sourceMappingURL=taskFunctions.min.js.map
